# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased] - YYYY-MM-DD

### Added
- Initial project structure for `netmap-rs`.
- Core Netmap abstractions: `NetmapBuilder`, `Netmap`, `TxRing`, `RxRing` (available under the `sys` feature).
- `Frame` structure for packet representation.
- Error handling types.
- Fallback mechanisms for non-Netmap platforms (basic structure).
- Tokio async support via the `tokio-async` feature.
- Example usage files in the `examples/` directory.
- `netmap-min-sys` crate for low-level FFI bindings to Netmap.

### Changed
- **Technical Consideration: Feature Flags**: The core functionality of interacting with Netmap relies on the `sys` feature flag. This flag enables the compilation of C bindings and makes types like `NetmapBuilder`, `Netmap`, `TxRing`, and `RxRing` available. Without `sys`, these types are not exported by the crate. Users consuming this crate must enable this feature in their `Cargo.toml` (e.g., `netmap-rs = { version = "...", features = ["sys"] }`) to use Netmap capabilities.
- The `tokio-async` feature enables integration with the Tokio runtime, providing `AsyncNetmapRxRing`, `AsyncNetmapTxRing`, and `TokioNetmap` types. This also requires the `sys` feature.
- Clarified in documentation (README) that `NetmapBuilder` and related types require the `sys` feature to be enabled. This addresses potential compilation errors where these types might appear undeclared if the feature is missing.
- Updated `README.md` to include troubleshooting tips for Netmap C library detection, highlighting the use of the `NETMAP_LOCATION` environment variable.
- The underlying `netmap-min-sys` dependency's build script (`build.rs`) was enhanced to more robustly use `NETMAP_LOCATION` for discovering Netmap C headers.
- `netmap-min-sys` now also has its own `README.md` and `CHANGELOG.md` for better clarity on its specific build options and changes.

### Fixed
- Resolved confusion regarding `NetmapBuilder` not being found: This was identified as an issue in how consuming crates specify dependencies. The `sys` feature flag must be enabled in the dependent crate's `Cargo.toml` to make `NetmapBuilder` and other `sys`-gated items available.

### Removed
- Previous auto-generated documentation in the `docs/` directory. New documentation will be generated by `cargo doc` based on source code comments and the new README.

### Security
- N/A

---

*Note: This changelog reflects the state of the crate as of the current work. If this were an actual release, the version and date would be set accordingly.*
